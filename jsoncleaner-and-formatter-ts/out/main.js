var p=Object.create;var a=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty;var d=o=>a(o,"__esModule",{value:!0});var C=(o,e)=>{for(var n in e)a(o,n,{get:e[n],enumerable:!0})},l=(o,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of u(e))!E.call(o,s)&&(n||s!=="default")&&a(o,s,{get:()=>e[s],enumerable:!(r=w(e,s))||r.enumerable});return o},c=(o,e)=>l(d(a(o!=null?p(x(o)):{},"default",!e&&o&&o.__esModule?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o),T=(o=>(e,n)=>o&&o.get(e)||(n=l(d({}),e,1),o&&o.set(e,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var J={};C(J,{activate:()=>y,deactivate:()=>R});var t=c(require("vscode"));var g=c(require("path")),m=c(require("fs")),v=c(require("vscode"));function f(o){try{let e=o.asAbsolutePath(g.join("resources","replacements.txt")),n=m.readFileSync(e,"utf8"),r=v.workspace.getConfiguration("jc").get("textReplacements",{}),s=[];return Object.entries(r).forEach(i=>{s.push([i[0],i[1]])}),s}catch(e){throw console.log("JC - There's been an error reading replacements: "+e.message),new Error("There's been an error reading replacements: "+e.message)}}var h;function y(o){console.log('Congratulations, your extension "jsoncleaner" is now active!');let e=t.commands.registerCommand("jsoncleaner.cleanJson",()=>{b(o),M(o),t.window.showInformationMessage(" Cleaning Json File ")});o.subscriptions.push(e),console.log("Command registered")}function R(){}function b(o){h=t.window.activeTextEditor,!!h}function M(o){try{let e;if(e=f(o),!t.window.activeTextEditor)throw new Error("No active text editor in use");let n=t.window.activeTextEditor.document.getText();n=j(o,n),e.forEach(i=>{n=n.replaceAll(i[0],i[1])});let r=new t.Range(0,0,t.window.activeTextEditor.document.lineCount,0);r=t.window.activeTextEditor.document.validateRange(r);let s=new t.WorkspaceEdit;s.replace(t.window.activeTextEditor.document.uri,r,n),t.workspace.applyEdit(s),t.window.showInformationMessage(" Execution Completed ")}catch(e){console.log("JC - There has been an error triying to clean the file: "+e.message),t.window.showErrorMessage(" There has been an error triying to clean the file: "+e.message)}}function j(o,e){let n=RegExp(/\/https[\S]*\/,/),r=e.match(n);return r?r.length>=1?r.forEach(s=>{let i=s.replace(RegExp(/\//),'"');i=i.substring(0,i.length-1)+'",',e=e.replace(s,i)}):t.window.showInformationMessage(" No matches to modify "):t.window.showInformationMessage(" No matches to modify "),e}module.exports=T(J);0&&(module.exports={activate,deactivate});
